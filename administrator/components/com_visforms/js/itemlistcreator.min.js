/*
   Copyright (c) 2014 vi-solutions. All rights preserved

 @license     GNU General Public License version 3 or later; see LICENSE.txt
 @author      Aicha Vack
 @link        http://www.vi-solutions.de

 @version     1.0.0 2014-04-20
 @since       1.0
------------------------------------------------------------------------------
*/
var $jscomp={scope:{},findInternal:function(f,l,h){f instanceof String&&(f=String(f));for(var m=f.length,q=0;q<m;q++){var r=f[q];if(l.call(h,r,q,f))return{i:q,v:r}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(f,l,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[l]=h.value)};
$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(f,l,h,m){if(l){h=$jscomp.global;f=f.split(".");for(m=0;m<f.length-1;m++){var q=f[m];q in h||(h[q]={});h=h[q]}f=f[f.length-1];m=h[f];l=l(m);l!=m&&null!=l&&$jscomp.defineProperty(h,f,{configurable:!0,writable:!0,value:l})}};
$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(f,h){return $jscomp.findInternal(this,f,h).v}},"es6-impl","es3");
(function(){jQuery.extend(jQuery.fn,{visformsItemlistCreator:function(f){function l(){var a=jQuery("#"+u).val(),a=1+parseInt(a);jQuery("#"+u).attr("value",a)}function h(){var a;a=jQuery("#"+w).val();if(""!=a)try{var b=JSON.parse(a)}catch(c){b={},I(),alert("Option list contains invalid data. Therefore option list was emptied.")}else b={};return b}function m(a){""!=a&&jQuery("#"+w).attr("value",a)}function q(a){$object={};jQuery.each(a,function(){void 0!==$object[this.name]?($object[this.name].push||
($object[this.name]=[$object[this.name]]),$object[this.name].push(this.value||"")):$object[this.name]=this.value||""});return $object}function r(a,b){var c=h()[a][b],t="";jQuery.each(d.params.hdnMFlds,function(a,c){c.fname==b&&(t=c.ftype)});"checkbox"==t&&(c="1"==c?d.texts.txtJYes:d.texts.txtJNo);return c}function J(a){jQuery("#"+e+" .liItem").eq(a).find("span.itemValues").remove()}function z(a,b){var c=jQuery("#"+e+" .liItem").eq(b),d=c.find("span.itemValues"),d=1>d.length?c.find("a.itemDown"):d.last();
jQuery("<span/>",{"class":"itemValues",html:a}).insertAfter(d)}function E(){var a=jQuery("<li/>",{"class":"liItem"});jQuery("#"+e).append(a);return a}function F(a){a=jQuery("#"+e+" .liItem").eq(a);jQuery().sortable&&jQuery("<span/>",{"class":"itemMove",html:'<i class="icon-menu" title="'+d.texts.txtMoveDragDrop+'"></i>'}).appendTo(a);jQuery("<a/>",{href:"#","data-target":"#"+g,"class":"itemUp",html:'<i class="icon-arrow-up-3" title="'+d.texts.txtMoveUp+'"></i>'}).appendTo(a);jQuery("<a/>",{href:"#",
"data-target":"#"+g,"class":"itemDown",html:'<i class="icon-arrow-down-3" title="'+d.texts.txtMoveDown+'"></i>'}).appendTo(a);jQuery("<a/>",{href:"#","data-target":"#"+g,"class":"itemChange",html:d.texts.txtChange}).appendTo(a);jQuery("<a/>",{href:"#","data-target":"#"+g,"class":"itemRemove",html:d.texts.txtDelete}).appendTo(a)}function p(a,b){(b?jQuery("#"+e+" .liItem").eq(a).find(".itemUp"):jQuery("#"+e+" .liItem").eq(a).find(".itemDown")).addClass("disabled")}function v(a,b){(b?jQuery("#"+e+" .liItem").eq(a).find(".itemUp"):
jQuery("#"+e+" .liItem").eq(a).find(".itemDown")).removeClass("disabled")}function A(a){var b=!0;jQuery.each(K,function(c,d){""==a.find("."+d+" input").val()&&(a.find("."+d+" input").addClass("error"),b=!1)});return 0==b?(alert(d.texts.txtAlertRequired),!1):!0}function B(a){jQuery.each(K,function(b,c){a.find("."+c+" input").removeClass("error")})}function G(a){var b='<p class="pull-right"><a href="#" class="btn closeForm" title="'+d.texts.txtClose+'"><span class="icon-unpublish"></span></a><a href="#" class="btn newItemClose" title="'+
d.texts.txtClose+'"><span class="icon-unpublish"></span></a></p>',c=jQuery("#formMaster"+k).clone();c.removeAttr("id");c.find("[data-original-title]").addClass("hasTooltip");c.find(".hasTooltip").tooltip();c.prepend(b);b='<a href="#" class="btn btn-success addItem">'+d.texts.txtAddItem+"</a> ";b+='<a href="#" class="btn btn-success addAndNewItem">'+d.texts.txtAddAndNewItem+"</a> ";b+='<a href="#" class="btn btn-danger newItemClose">'+d.texts.txtClose+"</a> ";b+='<a href="#" class="btn btn-success saveForm">'+
d.texts.txtSave+"</a> ";b+='<a href="#" class="btn btn-success saveAndNewForm">'+d.texts.txtSaveAndNew+"</a> ";b+='<a href="#" class="btn resetForm">'+d.texts.txtReset+"</a> ";b+='<a href="#" class="btn btn-danger closeForm">'+d.texts.txtClose+"</a>";b=jQuery('<span class="btnContainer text-center">'+b+"</span>");c.append(b);jQuery("#"+g).append(c);return jQuery("#"+g+" .itemForm").eq(a)}function x(a,b){var c=a.position(),d=jQuery("#"+g+" .itemForm").eq(b).height();c.top<d+40&&(d=c.top-40);jQuery("#"+
g+" .itemForm").eq(b).css({position:"absolute",top:c.top-d,left:c.left-25})}function L(a){var b=h()[a];jQuery.each(b,function(b,d){var c=jQuery("#"+g+" .itemForm").eq(a).find("."+b+" .controls ."+b);"checkbox"==c.attr("type")?c.attr("checked","checked"):c.attr("value",d)})}function M(a){jQuery("#"+e+" .liItem").eq(a).remove();jQuery("#"+g+" .itemForm").eq(a).remove()}function C(a){a=a.index();var b=h();a=D(b,a);N(a);a=itemsStr=JSON.stringify(a);m(a)}function N(a){-1<jQuery.inArray(k,["radio","select",
"multicheckbox"])&&(a=jQuery.map(a,function(a,c){return a.listitemischecked}).length,jQuery("#"+d.params.idPrefix+"f_"+k+"_countDefaultOpts").val(a))}function D(a,b){var c=jQuery("#"+g+" .itemForm").eq(b).find("input").serializeArray(),d={};d[b]=q(c);return jQuery.extend(a,d)}function O(a,b){var c=jQuery("#"+e+" .liItem").length-1;v(1,!0);v(c,!1);var d=jQuery("#"+e+" .liItem").eq(a),f=jQuery("#"+g+" .itemForm").eq(a);if(b){var n=jQuery("#"+e+" .liItem").eq(a-1),k=jQuery("#"+g+" .itemForm").eq(a-1);
d.insertBefore(n);f.insertBefore(k)}else n=jQuery("#"+e+" .liItem").eq(a+1),k=jQuery("#"+g+" .itemForm").eq(a+1),d.insertAfter(n),f.insertAfter(k);p(1,!0);p(c,!1);var h={};jQuery("#"+g+" .itemForm").each(function(a,b){0<a&&(h=D(h,a))});c=itemsStr=JSON.stringify(h);m(c)}function P(){var a=!1;window.File&&window.FileReader&&window.FileList&&window.Blob&&(a=!0);return a}function I(){jQuery("#"+w).val("{}");jQuery("#"+d.params.idPrefix+"f_"+k+"_countDefaultOpts").val(0)}function Q(a,b){var c=jQuery("#"+
g+" .itemForm").eq(a).detach(),d=jQuery("#"+g+" .itemForm").eq(b-1);c.insertAfter(d);jQuery("#"+e+" .liItem .itemUp").removeClass("disabled");jQuery("#"+e+" .liItem .itemDown").removeClass("disabled");p(1,!0);p(jQuery("#"+e+" .liItem").length-1,!1);var f={};jQuery("#"+g+" .itemForm").each(function(a,b){0<a&&(f=D(f,a))});c=itemsStr=JSON.stringify(f);m(c)}var d=jQuery.extend(!0,{},{texts:{txtMoveUp:"Move Up",txtMoveDown:"Move Down",txtMoveDragDrop:"Move with drag and drop",txtChange:"Change",txtChangeItem:"Change",
txtDelete:"Delete",txtClose:"Close",txtAddItem:"Add item",txtAddAndNewItem:"Add & New",txtCreate:"Create item",txtReset:"Reset",txtSave:"Save",txtSaveAndNew:"Save & New",txtJYes:"Yes",txtJNo:"No",txtAlertRequired:"Value and Label are required",txtTitle:"Title",txtItemsImported:"Items imported",txtReaderError:"Unable to read file ",txtNoDataToImport:"No data to import!"},params:{fieldName:"f_radio_list_hidden",idPrefix:"",dbFieldExt:"",hdnMFlds:{},ctype:"",listValueAfter:"itemDown"}},f),y=jQuery.map(d.params.hdnMFlds,
function(a,b){return a.fname}),k=""==d.params.ctype?d.params.fieldName.replace("f_","").replace(d.params.dbFieldExt,""):d.params.ctype,w=d.params.idPrefix+d.params.fieldName;f=d.params.idPrefix+"f_"+k+d.params.importField;var R=d.params.idPrefix+"f_"+k+d.params.importSeparator,g="hdnItemList"+k,S="add"+k,H="itemListCont"+k,e="itemList"+k,u=d.params.idPrefix+"f_"+k+"_lastId",K=jQuery.map(d.params.hdnMFlds,function(a,b){if(1==a.frequired)return a.fname});(function(){var a=d.params.hdnMFlds;jQuery("<div/>",
{"class":"itemForm well",id:"formMaster"+k,style:"display: none"}).appendTo("#item-form");jQuery("<h2/>",{text:d.texts.txtTitle}).appendTo("#formMaster"+k).attr("data-original-title",d.texts.txtTitle);jQuery("<div/>",{"class":"control-group listitemid"}).appendTo("#formMaster"+k);jQuery("<div/>",{"class":"controls"}).appendTo("#formMaster"+k+" .listitemid");jQuery("<input/>",{"class":"listitemid",type:"hidden",name:"listitemid"}).appendTo("#formMaster"+k+" .listitemid .controls").val("");jQuery.each(a,
function(a,c){1==c.frequired&&(c.flabel+="*");jQuery("<div/>",{"class":"control-group "+c.fname}).appendTo("#formMaster"+k);jQuery("<div/>",{"class":"control-label"}).appendTo("#formMaster"+k+" ."+c.fname);jQuery("<label/>",{"class":c.fname+"-lbl","for":c.fname,text:c.flabel}).appendTo("#formMaster"+k+" ."+c.fname+" .control-label").attr("data-original-title",c.fdesc);jQuery("<div/>",{"class":"controls"}).appendTo("#formMaster"+k+" ."+c.fname);jQuery("<input/>",{"class":c.fname,type:c.ftype,name:c.fname,
value:c.fvalue}).appendTo("#formMaster"+k+" ."+c.fname+" .controls")})})();jQuery("<div/>",{id:H}).insertBefore("#"+w);jQuery("<ul/>",{id:e}).appendTo("#"+H);jQuery("<a/>",{id:S,"class":"btn",href:"#",text:d.texts.txtCreateItem}).insertAfter("#"+e);jQuery("<div/>",{id:g}).insertAfter("#"+H);(function(){var a=d.params.hdnMFlds;jQuery("<li/>",{"class":"listHeader liItem"}).appendTo("#"+e);jQuery().sortable&&jQuery("<span/>",{"class":"itemMoveHeader"}).appendTo("#"+e+" .listHeader");jQuery("<span/>",
{"class":"itemUpHeader"}).appendTo("#"+e+" .listHeader");jQuery("<span/>",{"class":"itemDownHeader"}).appendTo("#"+e+" .listHeader");jQuery("<span/>",{"class":"itemChangeHeader"}).appendTo("#"+e+" .listHeader");jQuery("<span/>",{"class":"itemRemoveHeader"}).appendTo("#"+e+" .listHeader");jQuery.each(a,function(a,c){var b=jQuery("#"+e+" .listHeader"),d=b.find("span.itemlistheader"),d=1>d.length?b.find("span.itemDownHeader"):d.last();jQuery("<span/>",{"class":"itemlistheader",text:c.fheader}).insertAfter(d)})})();
jQuery("<div/>",{style:"display: none;","class":"itemForm"}).appendTo("#"+g);(function(){if(""!=jQuery("#"+w).val()){var a=h(),b=[],c=document.createDocumentFragment();jQuery.each(a,function(e,f){b.push('<li class="liItem">');jQuery().sortable&&b.push('<span class="itemMove"><i class="icon-menu" title="'+d.texts.txtMoveDragDrop+'"></i></span>');b.push('<a class="itemUp" href="#" data-target="#'+g+'"><i class="icon-arrow-up-3" title="'+d.texts.txtMoveUp+'"></i></a>');b.push('<a class="itemDown" href="#" data-target="#'+
g+'"><i class="icon-arrow-down-3" title="'+d.texts.txtMoveDown+'"></i></a>');jQuery.each(y,function(a,c){var d=r(e,c);b.push('<span class="itemValues">'+d+"</span>")});b.push('<a class="itemChange" href="#" data-target="#'+g+'">'+d.texts.txtChange+"</a>");b.push('<a class="itemRemove" href="#" data-target="#'+g+'">'+d.texts.txtDelete+"</a>");b.push("</li>");var n='<p class="pull-right"><a href="#" class="btn closeForm" title="'+d.texts.txtClose+'"><span class="icon-unpublish"></span></a><a href="#" class="btn newItemClose" title="'+
d.texts.txtClose+'"><span class="icon-unpublish"></span></a></p>',h=jQuery("#formMaster"+k).clone();h.removeAttr("id");h.find("[data-original-title]").addClass("hasTooltip");h.find(".hasTooltip").tooltip();h.prepend(n);n='<a href="#" class="btn btn-success addItem">'+d.texts.txtAddItem+"</a> ";n+='<a href="#" class="btn btn-success addAndNewItem">'+d.texts.txtAddAndNewItem+"</a> ";n+='<a href="#" class="btn btn-danger newItemClose">'+d.texts.txtClose+"</a> ";n+='<a href="#" class="btn btn-success saveForm">'+
d.texts.txtSave+"</a> ";n+='<a href="#" class="btn btn-success saveAndNewForm">'+d.texts.txtSaveAndNew+"</a> ";n+='<a href="#" class="btn resetForm">'+d.texts.txtReset+"</a> ";n+='<a href="#" class="btn btn-danger closeForm">'+d.texts.txtClose+"</a>";n=jQuery('<span class="btnContainer text-center">'+n+"</span>");h.append(n);jQuery.each(a[e],function(a,b){var c=h.find("."+a+" .controls ."+a);"checkbox"==c.attr("type")?c.attr("checked","checked"):c.attr("value",b)});h.find("a.addItem").hide();h.find("a.addAndNewItem").hide();
h.find("a.newItemClose").hide();h.find("h2").html(d.texts.txtChangeItem);h.appendTo(c)});jQuery("#"+e).append(b.join(""));jQuery("#"+g).append(c);p(1,!0);p(jQuery("#"+e+" .liItem").length-1,!1)}})();jQuery("#"+f).on("change",function(a){if(P()){var b=null;a=a.target.files[0];var c=new FileReader;c.readAsText(a);c.onload=function(a){a=a.target.result;var c={separator:jQuery("#"+R).val()};try{b=jQuery.csv.toArrays(a,c)}catch(T){alert(d.texts.txtReaderError);return}if(b&&0<b.length){I();jQuery("#"+e+
" .liItem").not(".listHeader").remove();jQuery("#"+g+" .itemForm.well").remove();var f=[],l=document.createDocumentFragment(),t=0;a=jQuery("#"+e+" .liItem");a.length&&(t=a.length);var r=h();jQuery.each(b,function(a,b){if(!(2>b.length)&&""!==b[0]&&""!==b[1]){f.push('<li class="liItem">');jQuery().sortable&&f.push('<span class="itemMove"><i class="icon-menu" title="'+d.texts.txtMoveDragDrop+'"></i></span>');f.push('<a class="itemUp" href="#" data-target="#'+g+'"><i class="icon-arrow-up-3" title="'+
d.texts.txtMoveUp+'"></i></a>');f.push('<a class="itemDown" href="#" data-target="#'+g+'"><i class="icon-arrow-down-3" title="'+d.texts.txtMoveDown+'"></i></a>');var c='<p class="pull-right"><a href="#" class="btn closeForm" title="'+d.texts.txtClose+'"><span class="icon-unpublish"></span></a><a href="#" class="btn newItemClose" title="'+d.texts.txtClose+'"><span class="icon-unpublish"></span></a></p>',e=jQuery("#formMaster"+k).clone();e.removeAttr("id");e.find("[data-original-title]").addClass("hasTooltip");
e.find(".hasTooltip").tooltip();e.prepend(c);c='<a href="#" class="btn btn-success addItem">'+d.texts.txtAddItem+"</a> ";c+='<a href="#" class="btn btn-success addAndNewItem">'+d.texts.txtAddAndNewItem+"</a> ";c+='<a href="#" class="btn btn-danger newItemClose">'+d.texts.txtClose+"</a> ";c+='<a href="#" class="btn btn-success saveForm">'+d.texts.txtSave+"</a> ";c+='<a href="#" class="btn btn-success saveAndNewForm">'+d.texts.txtSaveAndNew+"</a> ";c+='<a href="#" class="btn resetForm">'+d.texts.txtReset+
"</a> ";c+='<a href="#" class="btn btn-danger closeForm">'+d.texts.txtClose+"</a>";c=jQuery('<span class="btnContainer text-center">'+c+"</span>");e.append(c);e.find(".listitemid input").val(t-1);e.find(".listitemvalue input").val(b[0]);e.find(".listitemlabel input").val(b[1]);"undefined"!==jQuery.type(b[2])&&null!==jQuery.type(b[2])&&""!==b[2]&&e.find(".listitemischecked input").prop("checked",!0);e.find("a.addItem").hide();e.find("a.addAndNewItem").hide();e.find("a.newItemClose").hide();e.find("h2").html(d.texts.txtChangeItem);
var c=e.find("input").serializeArray(),h={};h[t]=q(c);itemsObj=jQuery.extend(r,h);N(itemsObj);e.appendTo(l);f.push('<span class="itemValues">'+b[0]+"</span>");f.push('<span class="itemValues">'+b[1]+"</span>");"undefined"!==jQuery.type(b[2])&&null!==jQuery.type(b[2])&&""!==b[2]?f.push('<span class="itemValues">'+d.texts.txtJYes+"</span>"):f.push('<span class="itemValues">'+d.texts.txtJNo+"</span>");f.push('<a class="itemChange" href="#" data-target="#'+g+'">'+d.texts.txtChange+"</a>");f.push('<a class="itemRemove" href="#" data-target="#'+
g+'">'+d.texts.txtDelete+"</a>");f.push("</li>");t++}});jQuery("#"+e).append(f.join(""));jQuery("#"+g).append(l);a=itemsStr=JSON.stringify(itemsObj);m(a);jQuery("#"+u).val(t-1);p(1,!0);p(jQuery("#"+e+" .liItem").length-1,!1);alert(d.texts.txtItemsImported)}else alert(d.texts.txtNoDataToImport)};c.onerror=function(){alert(d.texts.txtReaderError)}}else alert("The File APIs are not fully supported in this browser!")});jQuery("#add"+k).on("click",function(a){a.preventDefault();if(!jQuery(this).hasClass("disabled")){a=
0;var b=jQuery("#"+e+" .liItem");b.length&&(a=b.length);b=E();F(a);var c=G(a),d=jQuery("#"+u).val();c.find(".listitemid input").val(d);c.find("a.saveForm").hide();c.find("a.saveAndNewForm").hide();c.find("a.resetForm").hide();c.find("a.closeForm").hide();x(b,a);c.show();c.find("input").eq(1).focus();jQuery(this).addClass("disabled")}});jQuery("#"+g).on("click","a.addItem",function(a){a.preventDefault();var b=jQuery(this).parents(".itemForm");if(0==A(b))return a.preventDefault(),!1;C(b);l();var c=
b.index();jQuery.each(y,function(a,b){var d=r(c,b);z(d,c)});1==c&&p(c,!0);0<c&&v(c-1,!1);p(c,!1);jQuery(this).hide();b.find("a.newItemClose").hide();b.find("a.addAndNewItem").hide();b.find("a.saveForm").show();b.find("a.saveAndNewForm").show();b.find("a.resetForm").show();b.find("a.closeForm").show();b.find("h2").html(d.texts.txtChangeItem);b.hide();jQuery("#add"+k).removeClass("disabled")});jQuery("#"+g).on("click","a.addAndNewItem",function(a){a.preventDefault();var b=jQuery(this).parents(".itemForm");
if(0==A(b))return a.preventDefault(),!1;C(b);l();var c=b.index();jQuery.each(y,function(a,b){var d=r(c,b);z(d,c)});1==c&&p(c,!0);0<c&&v(c-1,!1);p(c,!1);jQuery(this).hide();b.find("a.newItemClose").hide();b.find("a.addItem").hide();b.find("a.saveForm").show();b.find("a.saveAndNewForm").show();b.find("a.resetForm").show();b.find("a.closeForm").show();b.find("h2").html(d.texts.txtChangeItem);b.hide();c=0;a=jQuery("#"+e+" .liItem");a.length&&(c=a.length);a=E();F(c);var b=G(c),f=jQuery("#"+u).val();b.find(".listitemid input").val(f);
b.find("a.saveForm").hide();b.find("a.saveAndNewForm").hide();b.find("a.resetForm").hide();b.find("a.closeForm").hide();x(a,c);b.show();b.find(".listitemvalue input").focus()});jQuery("#"+g).on("click","a.newItemClose",function(a){a.preventDefault();a=jQuery(this).parents(".itemForm").index();M(a);jQuery("#add"+k).removeClass("disabled")});jQuery("#"+g).on("click","a.closeForm",function(a){a.preventDefault();a=jQuery(this).parents(".itemForm");var b=a.index();L(b);B(a);a.hide();jQuery("#add"+k).removeClass("disabled")});
jQuery("#"+g).on("click","a.resetForm",function(a){a.preventDefault();a=jQuery(this).parents(".itemForm");var b=a.index();L(b);B(a)});jQuery("#"+g).on("click","a.saveForm",function(a){a.preventDefault();var b=jQuery(this).parents(".itemForm");if(0==A(b))return a.preventDefault(),!1;C(b);var c=b.index();J(c);jQuery.each(y,function(a,b){var d=r(c,b);z(d,c)});B(b);b.hide();jQuery("#add"+k).removeClass("disabled")});jQuery("#"+g).on("click","a.saveAndNewForm",function(a){a.preventDefault();var b=jQuery(this).parents(".itemForm");
if(0==A(b))return a.preventDefault(),!1;C(b);var c=b.index();J(c);jQuery.each(y,function(a,b){var d=r(c,b);z(d,c)});B(b);b.hide();c=0;a=jQuery("#"+e+" .liItem");a.length&&(c=a.length);a=E();F(c);var b=G(c),d=jQuery("#"+u).val();b.find(".listitemid input").val(d);b.find("a.saveForm").hide();b.find("a.saveAndNewForm").hide();b.find("a.resetForm").hide();b.find("a.closeForm").hide();x(a,c);b.show();b.find(".listitemvalue input").focus()});jQuery("#"+e).on("click","a.itemUp",function(a){a.preventDefault();
jQuery(this).hasClass("disabled")||(a=jQuery(this).parents(".liItem").index(),0!=a&&O(a,!0))});jQuery("#"+e).on("click","a.itemDown",function(a){a.preventDefault();if(!jQuery(this).hasClass("disabled")){a=jQuery(this).parents(".liItem").index();var b=jQuery("#"+e+" .liItem").length-1;a!=b&&O(a,!1)}});jQuery("#"+e).on("click","a.itemChange",function(a){a.preventDefault();a=jQuery(this).parent();var b=a.index();x(a,b);jQuery("#"+g+" .itemForm").eq(b).show();jQuery("#add"+k).addClass("disabled")});jQuery("#"+
e).on("click","a.itemRemove",function(a){a.preventDefault();a=jQuery(this).parent().index();v(1,!0);v(jQuery("#"+e+" .liItem").length-1,!1);M(a);p(1,!0);p(jQuery("#"+e+" .liItem").length-1,!1);var b={};jQuery("#"+g+" .itemForm").each(function(a,d){0<a&&(b=D(b,a))});a=itemsStr=JSON.stringify(b);m(a)});jQuery(window).resize(function(){jQuery("#"+g+" .itemForm").each(function(a,b){if(0<a){var c=jQuery("#"+e+" .liItem").eq(a);x(c,a)}})});if(jQuery().sortable)try{jQuery("#"+e).sortable({items:".liItem:not(.listHeader)",
cancel:".listHeader",addClasses:!1,tolerance:"pointer",axis:"y",containment:"parent",start:function(a,b){this.idx=b.item.index()},update:function(a,b){this.newidx=b.item.index();Q(this.idx,this.newidx)}})}catch(a){}}})})(jQuery);
